<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	template="/templates/modelo.xhtml">

	<ui:define name="conteudo">

		<h:outputStylesheet name="primeicons/primeicons.css"
			library="primefaces" />

		<style type="text/css">
.customPanelGrid .ui-panelgrid-content {
	align-items: center;
}
/* reset on the showcase style*/
body .ui-panelgrid .ui-panelgrid-cell {
	background-color: transparent;
}

/* example use of styles for your form */
.my-heading-row {
	background-color: var(- -surface-c);
	font-weight: bold;
}

/* reset on the showcase style*/
body .ui-panelgrid .ui-panelgrid-cell {
	background-color: transparent;
}

/* example use of styles for your form */
.my-heading-row {
	background-color: #c0c0c0;
	font-weight: bold;
}

.ui-inputfield[disabled] {
	color: #000 !important;
	opacity: 0.7 !important
}

body .ui-state-disabled {
	opacity: 0.7 !important;
}

.contentTable {
	align-itens: center;
	text-align: center;
	width: 100%;
}

.writerNegrito {
	align-itens: center;
	text-align: center;
	width: 100%;
	font-weight: 500;
}

.col-offset-3 {
	margin-left: 39% !important;
}

.colStats {
	flex-grow: 1;
	flex-basis: 0;
	padding: 1.0rem;
	margin-left: 10% !important;
	text-align: center;
}
</style>

 

		<script>
			$(document).ready(function() {
				console.log("ready is called");
				//PF('statusDialog').hide()
				$('#nonAjaxLoad').hide();
			});

			$(window).bind('beforeunload', function() {
				console.log("bind is called");
				// PF('statusDialog').show()
				$('#nonAjaxLoad').hide();
			});
		</script>



		<p:tabView id="tabView"
			rendered="#{autenticacaoBean.temPermissoes([1, 13, 17, 18])}">
			<p:tab title="Unidades">
				<h:form id="formularioEmpresas">

<h:panelGroup id="updatePanelGroup">
					<div class="cardUnidadexFunc">

						<div class="grid align-items-start vertical-container">

							<div class="col-12 md:col-6 lg:col-3">
								<div class="colStats">

									<div class="item">
										<i class="pi pi-building" style="font-size: 4rem"></i>
										<p id="number2" class="number">
											<span
												style="color: #8fb13a; font-size: 30px; font-weight: 800;"><h:outputLabel
													value="#{unidadeFuncBean.filteredUnidades.size()}" /></span>
											<p class="fontStats">UNIDADES</p>
										</p>

									</div>

								</div>

							</div>

							<div class="col-12 md:col-6 lg:col-3">
								<div class="colStats">

									<div class="item">
										<i class="pi pi-users" style="font-size: 4rem"></i>
										<p id="number3" class="number">
											<span
												style="color: #8fb13a; font-size: 30px; font-weight: 800;"><h:outputLabel
													value="#{unidadeFuncBean.listaServidores.size()}" /></span>
										</p>
										<p class="fontStats">SERVIDORES</p>
									</div>

								</div>
							</div>
							<div class="col-12 md:col-6 lg:col-3">
								<div class="colStats">

									<div class="item">
										<i class="pi pi-users" style="font-size: 4rem"></i>
										<p id="number3" class="number">
											<span
												style="color: #8fb13a; font-size: 30px; font-weight: 800;"><h:outputLabel
													value="#{unidadeFuncBean.listaTerceirizadosAtivos.size()}" /></span>
										</p>
										<p class="fontStats">TERCEIRIZADOS</p>
									</div>

								</div>
							</div>
							<div class="col-12 md:col-6 lg:col-3">
								<div class="colStats">

									<div class="item">
										<i class="pi pi-users" style="font-size: 4rem"></i>
										<p id="number3" class="number">
											<span
												style="color: #8fb13a; font-size: 30px; font-weight: 800;"><h:outputLabel
													value="#{unidadeFuncBean.listaEstagiarios.size()}" /></span>
										</p>
										<p class="fontStats">ESTAGIÁRIOS</p>
									</div>

								</div>
							</div>





						</div>
					</div>

</h:panelGroup>




					<h:panelGroup id="painelDados" layout="block">

						<p:panelGrid columns="1" layout="grid">


<p:remoteCommand name="rmtCommand" action="#{unidadeFuncBean.filterListener2}" update="tabView:formularioEmpresas:updatePanelGroup"/>
							<p:dataTable id="listaUnidades"
								emptyMessage="Nenhum Posto de atendimento encontrado."
								paginator="true" rowKey="#{unidade.codigo}" rows="10"
								value="#{unidadeFuncBean.listaUnidadeFunc}" var="unidade"
								stripedRows="true" rowExpandMode="single"
								currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords} linhas"
								rowsPerPageTemplate="5,10,{ShowAll|'All'}"
								
								widgetVar="myTableWidget"
								filteredValue="#{unidadeFuncBean.filteredUnidades}"
								filterBy="#{dtFilterView.filterBy}"
								
								paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">

								<f:facet name="header">
									<h4>Unidades x Funcionários</h4>




								</f:facet>

 <p:ajax event="filter" oncomplete="rmtCommand()" />

								<p:ajax event="rowToggle"
									listener="#{unidadeFuncBean.onRowToggle}"
									update="tabView:formularioEmpresas:listaUnidades" />
								<p:column style="width:2%">
									<p:rowToggler />
								</p:column>


								<p:column headerText="Unidade"
									sortBy="#{unidade.unidade.unidadeNome}"
									filterBy="#{unidade.unidade.unidadeNome}"
									filterMatchMode="contains" oncomplete="PF('myTableWidget').filter()"
									style="width: 12%; text-align: center;">
									<h:outputText value="#{unidade.unidade.unidadeNome}" />
								</p:column>



								<p:column headerText="Horário atendimento"
									sortBy="#{unidade.horarioAtendimento}"
									filterBy="#{unidade.horarioAtendimento}"
									filterMatchMode="contains"
									style="width: 9%; text-align: center;">
									<h:outputText value="#{unidade.horarioAtendimento}" />
								</p:column>

								<p:column headerText="E-mail" sortBy="#{unidade.email}"
									filterBy="#{unidade.email}" filterMatchMode="contains"
									style="width: 12%; text-align: center;">
									<h:outputText value="#{unidade.email}" />
								</p:column>


								<p:column headerText="Telefone" sortBy="#{unidade.telefone}"
									filterBy="#{unidade.telefone}" filterMatchMode="contains"
									style="width: 8%; text-align: center;">
									<h:outputText value="#{unidade.telefone}" />
								</p:column>

								<p:column headerText="Atende CNH" sortBy="#{unidade.atendeCNH}"
									filterBy="#{unidade.atendeCNH}" filterMatchMode="contains"
									style="width: 5%; text-align: center;">
									<h:outputText value="#{unidade.atendeCNH}" />

								</p:column>

								<p:column headerText="Atende Veiculo"
									sortBy="#{unidade.atendeVeiculos}"
									filterBy="#{unidade.atendeVeiculos}" filterMatchMode="contains"
									style="width: 5%; text-align: center;">
									<h:outputText value="#{unidade.atendeVeiculos}" />
								</p:column>

								<p:column headerText="Atende Multa"
									sortBy="#{unidade.atendeMulta}"
									filterBy="#{unidade.atendeMulta}" filterMatchMode="contains"
									style="width: 5%; text-align: center;">
									<h:outputText value="#{unidade.atendeMulta}" />

								</p:column>

								<p:column headerText="Atende Penalidade"
									sortBy="#{unidade.atendePenalidade}"
									filterBy="#{unidade.atendePenalidade}"
									filterMatchMode="contains"
									style="width: 5%; text-align: center;">
									<h:outputText value="#{unidade.atendePenalidade}" />

								</p:column>

								<p:column headerText="Atende Foto"
									sortBy="#{unidade.atendeFoto}" filterBy="#{unidade.atendeFoto}"
									filterMatchMode="contains"
									style="width: 5%; text-align: center;">
									<h:outputText value="#{unidade.atendeFoto}" />

								</p:column>






								<p:column headerText="Ações"
									style="width: 15%; text-align: center;">

									<p:commandButton styleClass="rounded-button ui-button-info"
										actionListener="#{unidadeFuncBean.viewUnidade}"
										icon="pi pi-user-plus" onclick="PF('dialogoView').show();"
										style="align: center;"
										update=":mensagem unidadeView:unidadeView 
										newTerceirizado:newTerceirizado
										newServidor:newServidor
										newEstagiario:newEstagiario
										unidadeJustView:unidadeJustView
										unidadeJustView
										unidadeView:tabViewProcesso:listaServidores 
										unidadeView:tabViewProcesso:listaTerceirizados
										unidadeView:tabViewProcesso:listaEstagiarios">
										<f:attribute name="unidadeSelecionado" value="#{unidade}" />
										<f:actionListener
											type="org.omnifaces.eventlistener.ResetInputAjaxActionListener" />



									</p:commandButton>

									<p:commandButton icon="pi pi-eye"
										styleClass="rounded-button ui-button-warning"
										actionListener="#{unidadeFuncBean.viewUnidade}"
										update="unidadeJustView:unidadeJustView
										unidadeJustView"
										oncomplete="PF('dialogoJustView').show();">
										<f:attribute name="unidadeSelecionado" value="#{unidade}" />
										<f:actionListener
											type="org.omnifaces.eventlistener.ResetInputAjaxActionListener" />
									</p:commandButton>



									<p:commandButton icon="pi pi-pencil"
										styleClass="rounded-button ui-button-secondary"
										actionListener="#{unidadeFuncBean.editar}"
										update="unidadeView:unidadeView"
										oncomplete="PF('dialogoNew').show();">
										<f:attribute name="unidadeSelecionado" value="#{unidade}" />
										<f:actionListener
											type="org.omnifaces.eventlistener.ResetInputAjaxActionListener" />
									</p:commandButton>



									<p:commandButton icon="pi pi-file-pdf"
										styleClass="rounded-button ui-button-danger"
										actionListener="#{unidadeFuncBean.imprimirRelatorio}"
										update="unidadeView:unidadeView">
										<f:attribute name="unidadeSelecionado" value="#{unidade}" />
										<f:actionListener
											type="org.omnifaces.eventlistener.ResetInputAjaxActionListener" />
									</p:commandButton>

									<p:commandButton icon="pi pi-file-excel"
										styleClass="rounded-button ui-button-success"
										actionListener="#{unidadeFuncBean.testFunc}">

										<f:attribute name="unidadeSelecionado" value="#{unidade}" />
										<f:actionListener
											type="org.omnifaces.eventlistener.ResetInputAjaxActionListener" />

									</p:commandButton>


									



								</p:column>

								<p:rowExpansion>
									<p:dataTable id="listaServidoresExpansion" showGridlines="true"
										emptyMessage="Nenhum registro encontrado." rows="100"
										value="#{unidadeFuncBean.listaServidores}" var="servidores"
										editable="true">

										<f:facet name="header">
											<div class="flex justify-content-between align-items-center">
												Lista Servidores</div>
										</f:facet>



										<p:column headerText="Nome"
											style="width: 5%; text-align: center;">
											<h:outputText value="#{servidores.pessoa.nomeCompleto}" />
										</p:column>

										<p:column headerText="CPF"
											style="width: 5%; text-align: center;">
											<h:outputText value="#{servidores.pessoa.cpf}" />
										</p:column>

										<p:column headerText="E-mail"
											style="width: 5%; text-align: center;">
											<h:outputText value="#{servidores.pessoa.email}" />
										</p:column>

										<p:column headerText="Telefone Celular"
											style="width: 5%; text-align: center;">
											<h:outputText value="#{servidores.pessoa.cel}" />
										</p:column>

										<p:column headerText="Ações"
											style="width: 1%; text-align: center;">

											<p:commandButton icon="pi pi-pencil"
												styleClass="rounded-button ui-button-info"
												actionListener="#{unidadeFuncBean.editar}"
												update=":mensagem tabView:formularioEmpresas:listaUnidades">
												<f:attribute name="servidoresSelecionado"
													value="#{servidores}" />
												<f:actionListener
													type="org.omnifaces.eventlistener.ResetInputAjaxActionListener" />
											</p:commandButton>

											<p:commandButton icon="pi pi-times"
												styleClass="rounded-button ui-button-danger"
												actionListener="#{unidadeFuncBean.excluir}"
												update=":mensagem tabView:formularioEmpresas:listaUnidades">
												<p:confirm header="Confirmação" message="Deseja excluir?"
													icon="pi pi-exclamation-triangle" />
												<f:attribute name="servidoresSelecionado"
													value="#{servidores}" />
											</p:commandButton>

										</p:column>




									</p:dataTable>

									<p:dataTable id="listaTerceirizadosExpansion"
										showGridlines="true"
										emptyMessage="Nenhum registro encontrado." rows="100"
										value="#{unidadeFuncBean.listaTerceirizadosAtivos}"
										var="terceirizado" editable="true">

										<f:facet name="header">
											<div class="flex justify-content-between align-items-center">
												Lista Terceirizados</div>
										</f:facet>



										<p:column headerText="Nome"
											sortBy="#{terceirizado.funcionarioTerceirizado.pessoa.nomeCompleto}"
											filterBy="#{terceirizado.funcionarioTerceirizado.pessoa.nomeCompleto}"
											style="width: 5%; text-align: center;">
											<h:outputText value="#{terceirizado.funcionarioTerceirizado.pessoa.nomeCompleto}" />
										</p:column>

										<p:column headerText="Empresa / Carga Horária"
											style="width: 5%; text-align: center;">
											<h:outputText value="#{terceirizado.contratoTerceirizado.empresaTerceirizada.pessoaJuridica.nomeFantasia} - #{terceirizado.contratoTerceirizado.hrContrato}" />
										</p:column>

										<p:column headerText="E-mail"
											style="width: 5%; text-align: center;">
											<h:outputText value="#{terceirizado.funcionarioTerceirizado.pessoa.email}" />
										</p:column>

										<p:column headerText="Telefone Celular"
											style="width: 5%; text-align: center;">
											<h:outputText value="#{terceirizado.funcionarioTerceirizado.pessoa.cel}" />
										</p:column>

										<p:column headerText="Ações"
											style="width: 1%; text-align: center;">

											<p:commandButton icon="pi pi-times"
												styleClass="rounded-button ui-button-danger"
												actionListener="#{terceirizadosBean.excluir}"
												update=":mensagem tabView:formularioEmpresas:listaUnidades">
												<p:confirm header="Confirmação" message="Deseja excluir?"
													icon="pi pi-exclamation-triangle" />
												<f:attribute name="terceirizadoSelecionado"
													value="#{terceirizado}" />
											</p:commandButton>

										</p:column>



									</p:dataTable>

									<p:dataTable id="listaEstagiariosExpansion"
										showGridlines="true"
										emptyMessage="Nenhum registro encontrado." rows="100"
										value="#{unidadeFuncBean.listaEstagiarios}" var="estagiario"
										editable="true">

										<f:facet name="header">
											<div class="flex justify-content-between align-items-center">
												Lista Estagiários</div>
										</f:facet>

										<p:column headerText="Nome"
											style="width: 5%; text-align: center;">
											<h:outputText value="#{estagiario.pessoa.nomeCompleto}" />
										</p:column>

										<p:column headerText="CPF"
											style="width: 5%; text-align: center;">
											<h:outputText value="#{estagiario.pessoa.cpf}" />
										</p:column>

										<p:column headerText="E-mail"
											style="width: 5%; text-align: center;">
											<h:outputText value="#{estagiario.pessoa.email}" />
										</p:column>

										<p:column headerText="Telefone Celular"
											style="width: 5%; text-align: center;">
											<h:outputText value="#{estagiario.pessoa.cel}" />
										</p:column>

										<p:column headerText="Ações"
											style="width: 1%; text-align: center;">

											<p:commandButton icon="pi pi-times"
												styleClass="rounded-button ui-button-danger"
												actionListener="#{unidadeFuncBean.excluir}"
												update=":mensagem tabView:formularioEmpresas:listaUnidades">
												<p:confirm header="Confirmação" message="Deseja excluir?"
													icon="pi pi-exclamation-triangle" />
												<f:attribute name="estagiarioSelecionado"
													value="#{estagiario}" />
											</p:commandButton>

										</p:column>







									</p:dataTable>
								</p:rowExpansion>





							</p:dataTable>



							<p:confirmDialog global="true">
								<p:commandButton value="Sim" type="button"
									styleClass="ui-confirmdialog-yes rounded-button ui-button-danger"
									icon="pi pi-check" />
								<p:commandButton value="Não" type="button"
									styleClass="ui-confirmdialog-no rounded-button"
									icon="pi pi-times" />
							</p:confirmDialog>

						</p:panelGrid>



						<br />
						<br />






					</h:panelGroup>






				</h:form>


			</p:tab>








		</p:tabView>












		<p:dialog widgetVar="dialogoNew" draggable="false" resizable="true"
			modal="true" closable="true" responsive="true" dynamic="true">
			<f:facet name="header">



			</f:facet>

			<h:form id="newUnidade">






				<p:panel header="Unidade">

					<p:panelGrid id="newUnidade" columns="4" layout="flex"
						columnClasses="col-12 md:col-3 xl:col-2, col-12 md:col-9 xl:col-4, col-12 md:col-3 xl:col-2, col-12 md:col-9 xl:col-4"
						contentStyleClass="ui-fluid">





						<p:outputLabel value="CEP:" />
						<p:inputMask id="cepEnd" mask="99.999-999" maxlength="11"
							value="#{unidadeFuncBean.unidadeFunc.cep}" required="true"
							requiredMessage="O campo CEP é obrigatório">
							<f:ajax event="blur" execute="@this"
								render="estado cidade endResi"
								listener="#{unidadeFuncBean.pesquisaCep}"></f:ajax>
						</p:inputMask>

						<p:outputLabel value="Endereço: " />
						<p:inputText maxlength="255" id="endResi"
							value="#{unidadeFuncBean.unidadeFunc.endereco}" required="true"
							requiredMessage="O campo Endereço Residência é obrigatório"
							style="text-transform:uppercase;" />



						<p:outputLabel for="estado" value="UF: " />
						<p:selectOneMenu id="estado" filter="true"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.unidadeFunc.estadoEndereco}">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione um estado" />
							<f:selectItems value="#{unidadeFuncBean.estados}" var="estado"
								itemValue="#{estado}" itemLabel="#{estado.nome}" />
							<p:ajax listener="#{unidadeFuncBean.popular}"
								update="newUnidade:cidade" />
						</p:selectOneMenu>

						<p:outputLabel for="cidade" value="Municipio" />
						<p:selectOneMenu id="cidade" filter="true" required="true"
							requiredMessage="O campo Municipio é obrigatório"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.unidadeFunc.municipioEndereco}">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione uma cidade" />
							<f:selectItems value="#{unidadeFuncBean.cidades}" var="cidade"
								itemValue="#{cidade}" itemLabel="#{cidade.nome}" />
						</p:selectOneMenu>





						<p:outputLabel value="Horário de Atendimento: " />
						<p:inputMask
							value="#{unidadeFuncBean.unidadeFunc.horarioAtendimento}"
							mask="99:99h às 99:99h" validateMask="true" required="true"
							requiredMessage="O campo Horário Atendimento é obrigatório" />

						<p:outputLabel value="Número Circuito: " />
						<p:inputText maxlength="255"
							value="#{unidadeFuncBean.unidadeFunc.nCircuito}" required="true"
							style="text-transform:uppercase;" />


						<p:outputLabel value="Endereço IP: " />
						<p:inputText maxlength="255"
							value="#{unidadeFuncBean.unidadeFunc.enderecoIp}" required="true"
							style="text-transform:uppercase;" />


						<p:outputLabel value="E-mails: " />
						<p:inputTextarea maxlength="255"
							value="#{unidadeFuncBean.unidadeFunc.email}" counter="display"
							counterTemplate="Restam {0} Caracteres.">
							<h:outputText id="display" />
						</p:inputTextarea>

						<p:outputLabel value="Telefones: " />
						<p:inputTextarea maxlength="255"
							value="#{unidadeFuncBean.unidadeFunc.telefone}"
							counter="display2" counterTemplate="Restam {0} Caracteres.">
							<h:outputText id="display2" />
						</p:inputTextarea>


						<p:outputLabel value="" />

						<p:panelGrid columns="2" layout="flex"
							columnClasses="col-12 md:col-6 xl:col-4, col-12 md:col-9 xl:col-4, col-12 md:col-3 xl:col-2, col-12 md:col-9 xl:col-4"
							contentStyleClass="ui-fluid">
							<p:outputLabel value="Atende?" />




							<p:selectOneButton
								value="#{unidadeFuncBean.unidadeFunc.atendeCNH}">
								<f:selectItem itemLabel="Sim" itemValue="Sim" />
								<f:selectItem itemLabel="Não" itemValue="Não" /> CNH
							</p:selectOneButton>
							<p:selectOneButton
								value="#{unidadeFuncBean.unidadeFunc.atendeVeiculos}">
								<f:selectItem itemLabel="Sim" itemValue="Sim" />
								<f:selectItem itemLabel="Não" itemValue="Não" /> Veículo
							</p:selectOneButton>
							<p:selectOneButton
								value="#{unidadeFuncBean.unidadeFunc.atendeMulta}">
								<f:selectItem itemLabel="Sim" itemValue="Sim" />
								<f:selectItem itemLabel="Não" itemValue="Não" />Multa
							</p:selectOneButton>
							<p:selectOneButton
								value="#{unidadeFuncBean.unidadeFunc.atendePenalidade}">
								<f:selectItem itemLabel="Sim" itemValue="Sim" />
								<f:selectItem itemLabel="Não" itemValue="Não" /> Penalidade
							</p:selectOneButton>
							<p:selectOneButton
								value="#{unidadeFuncBean.unidadeFunc.atendeFoto}">
								<f:selectItem itemLabel="Sim" itemValue="Sim" />
								<f:selectItem itemLabel="Não" itemValue="Não" /> Foto
							</p:selectOneButton>


						</p:panelGrid>


					</p:panelGrid>







					<h:panelGrid columns="2" style="margin: 0 auto;">
						<p:commandButton value="Salvar" icon="pi pi-save"
							styleClass="rounded-button ui-button-success"
							oncomplete="PF('dialogoNew').hide();"
							actionListener="#{unidadeFuncBean.salvar}"
							update=":mensagem tabView:formularioEmpresas:painelDados" />



					</h:panelGrid>


				</p:panel>


			</h:form>



		</p:dialog>






		<p:dialog widgetVar="dialogoView" draggable="false" resizable="true"
			modal="true" closable="true" responsive="true" height="700px"
			width="100%" dynamic="true">


			<h:form id="unidadeView">




				<p:panel header="Cadastro Funcionário">

					<p:panelGrid id="unidadeView" columns="4" layout="flex"
						columnClasses="col-12 md:col-3 xl:col-2, col-12 md:col-9 xl:col-4, col-12 md:col-3 xl:col-2, col-12 md:col-9 xl:col-4"
						contentStyleClass="ui-fluid">


						<h:outputText
							value="Unidade: #{unidadeFuncBean.unidadeFunc.unidade.unidadeNome}" />


					</p:panelGrid>






					<p:tabView id="tabViewProcesso">


						<p:tab title="Servidores">

							<f:facet name="title">
							Servidores <i class="pi pi-users"></i>
							</f:facet>




							<p:panel header="Lista Servidores">

								<p:dataTable id="listaServidores" showGridlines="true"
									emptyMessage="Nenhum registro encontrado." paginator="true"
									rows="5" value="#{unidadeFuncBean.listaServidores}"
									var="servidores" editable="true">


									<f:facet name="header">


										<p:commandButton value="Novo Servidor" icon="pi pi-plus"
											styleClass="rounded-button ui-button-success"
											oncomplete="PF('newServidor').show();"
											actionListener="#{unidadeFuncBean.novoServidor()}"
											update=":mensagem tabView:formularioEmpresas:painelDados" />



									</f:facet>

									<p:column headerText="Nome"
										style="width: 5%; text-align: center;">
										<h:outputText value="#{servidores.pessoa.nomeCompleto}" />
									</p:column>

									<p:column headerText="CPF"
										style="width: 5%; text-align: center;">
										<h:outputText value="#{servidores.pessoa.cpf}" />
									</p:column>

									<p:column headerText="Setor"
										style="width: 5%; text-align: center;">
										<h:outputText value="#{servidores.setor.setorNome}" />
									</p:column>

									<p:column headerText="E-mail"
										style="width: 5%; text-align: center;">
										<h:outputText value="#{servidores.pessoa.email}" />
									</p:column>

									<p:column headerText="Telefone Celular"
										style="width: 5%; text-align: center;">
										<h:outputText value="#{servidores.pessoa.cel}" />
									</p:column>

								</p:dataTable>

							</p:panel>

						</p:tab>


						<p:tab title="Terceirizados">

							<f:facet name="title">
							Terceirizados <i class="pi pi-users"></i>
							</f:facet>

							<p:panel header="Lista Terceirizados">

								<p:dataTable id="listaTerceirizados" showGridlines="true"
									emptyMessage="Nenhum registro encontrado." paginator="true"
									rows="5" value="#{unidadeFuncBean.listaTerceirizados}"
									var="terceirizado" editable="true">

									<f:facet name="header">
										<p:commandButton value="Novo Terceirizado" icon="pi pi-plus"
											styleClass="rounded-button ui-button-success"
											oncomplete="PF('newTerceirizado').show();"
											actionListener="#{unidadeFuncBean.novoTerceirizado()}"
											update=":mensagem tabView:formularioEmpresas:painelDados newTerceirizado:newTerceirizado" />
									</f:facet>

									<p:column headerText="Nome"
										style="width: 5%; text-align: center;">
										<h:outputText value="#{terceirizado.pessoa.nomeCompleto}" />
									</p:column>

									<p:column headerText="CPF"
										style="width: 5%; text-align: center;">
										<h:outputText value="#{terceirizado.pessoa.cpf}" />
									</p:column>

									<p:column headerText="Setor"
										style="width: 5%; text-align: center;">
										<h:outputText value="#{terceirizado.setor.setorNome}" />
									</p:column>

									<p:column headerText="E-mail"
										style="width: 5%; text-align: center;">
										<h:outputText value="#{terceirizado.pessoa.email}" />
									</p:column>

									<p:column headerText="Telefone Celular"
										style="width: 5%; text-align: center;">
										<h:outputText value="#{terceirizado.pessoa.cel}" />
									</p:column>



								</p:dataTable>

							</p:panel>

						</p:tab>

						<p:tab title="Estagiários">

							<f:facet name="title">
							Estagiários <i class="pi pi-users"></i>
							</f:facet>


							<p:panel header="Lista Estagiários">

								<p:dataTable id="listaEstagiarios" showGridlines="true"
									emptyMessage="Nenhum registro encontrado." paginator="true"
									rows="5" value="#{unidadeFuncBean.listaEstagiarios}"
									var="estagiario" editable="true">

									<f:facet name="header">


										<p:commandButton value="Novo Estagiário" icon="pi pi-plus"
											styleClass="rounded-button ui-button-success"
											oncomplete="PF('newEstagiario').show();"
											actionListener="#{unidadeFuncBean.novoEstagiario()}"
											update=":mensagem tabView:formularioEmpresas:painelDados" />



									</f:facet>

									<p:column headerText="Nome"
										style="width: 5%; text-align: center;">
										<h:outputText value="#{estagiario.pessoa.nomeCompleto}" />
									</p:column>

									<p:column headerText="CPF"
										style="width: 5%; text-align: center;">
										<h:outputText value="#{estagiario.pessoa.cpf}" />
									</p:column>

									<p:column headerText="Setor"
										style="width: 5%; text-align: center;">
										<h:outputText value="#{estagiario.setor.setorNome}" />
									</p:column>

									<p:column headerText="E-mail"
										style="width: 5%; text-align: center;">
										<h:outputText value="#{estagiario.pessoa.email}" />
									</p:column>

									<p:column headerText="Telefone Celular"
										style="width: 5%; text-align: center;">
										<h:outputText value="#{estagiario.pessoa.cel}" />
									</p:column>



								</p:dataTable>

							</p:panel>

						</p:tab>





					</p:tabView>



				</p:panel>


			</h:form>



		</p:dialog>

		<p:dialog widgetVar="newTerceirizado" draggable="false"
			resizable="true" modal="true" closable="true" responsive="true"
			height="700px" width="100%" dynamic="true">


			<f:facet name="header">

				<h:outputText id="someDialogTerceirizado"
					value="Cadastro Terceirizado" />

			</f:facet>

			<h:form id="newTerceirizado">






				<p:panel header="Cadastro Terceirizado">

					<p:panelGrid id="newTerceirizado" columns="4"
						columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
						layout="grid" styleClass="ui-panelgrid-blank ui-fluid"
						style="border:0px none; background-color:transparent;">


						<p:row styleClass="my-heading-row">
							<i class="pi pi-user"></i>
							<b style="color: #518e2e; margin: 0 auto;">DADOS PESSOAIS</b>

						</p:row>


						<p:outputLabel value="CPF: *" />
						<p:inputText id="cpf" maxlength="11" size="50"
							placeholder="Digite o CPF" value="#{unidadeFuncBean.pessoa.cpf}"
							required="true" requiredMessage="O campo CPF é obrigatório">
							<p:ajax event="blur" listener="#{unidadeFuncBean.buscarCPF}"
								update="newTerceirizado:rg,newTerceirizado:orgao,newTerceirizado:ufrg,newTerceirizado:nomeCompleto,newTerceirizado:nomeMae,newTerceirizado:nomePai,newTerceirizado:dtNascimento,newTerceirizado:sexo,newTerceirizado:email,newTerceirizado:telres,newTerceirizado:cel,
								newTerceirizado:cepEnd,newTerceirizado:endResi,newTerceirizado:complemento,newTerceirizado:estado,newTerceirizado:cidade" />
							<f:validator validatorId="CpfValidator" />
						</p:inputText>


						<p:outputLabel value="RG: *" />
						<p:inputText maxlength="11" size="50" id="rg"
							value="#{unidadeFuncBean.pessoa.rg}" required="true"
							requiredMessage="O campo RG é obrigatório" />

						<p:outputLabel value="Órgão Emissor: *" />
						<p:inputText maxlength="10" size="50" id="orgao"
							value="#{unidadeFuncBean.pessoa.rgOrgaoEmissor}" required="true"
							requiredMessage="O campo Órgão Emissor é obrigatório"
							style="text-transform:uppercase;" />



						<p:outputLabel value="UF RG: *" />
						<p:selectOneMenu filter="true" style="width:380px"
							value="#{unidadeFuncBean.pessoa.rgEstadoEmissao}" id="ufrg"
							converter="omnifaces.SelectItemsConverter" required="true"
							requiredMessage="O campo UF é obrigatório">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione uma UF" />
							<f:selectItems value="#{unidadeFuncBean.estados}" var="estado"
								itemValue="#{estado}" itemLabel="#{estado.sigla}" />
						</p:selectOneMenu>

						<p:outputLabel value="Nome Completo: *" />
						<p:inputText maxlength="50" size="50" id="nomeCompleto"
							value="#{unidadeFuncBean.pessoa.nomeCompleto}" required="true"
							requiredMessage="O campo Nome Completo é obrigatório"
							style="text-transform:uppercase;" />

						<p:outputLabel value="Nome da Mãe: *" />
						<p:inputText maxlength="50" size="50" id="nomeMae"
							value="#{unidadeFuncBean.pessoa.nomeMae}" required="true"
							requiredMessage="O campo Nome da Mãe é obrigatório"
							style="text-transform:uppercase;" />

						<p:outputLabel value="Nome do Pai: *" />
						<p:inputText maxlength="50" size="50" id="nomePai"
							value="#{unidadeFuncBean.pessoa.nomePai}" required="true"
							requiredMessage="O campo Nome do Pai é obrigatório"
							style="text-transform:uppercase;" />


						<p:outputLabel value="Data Nascimento: *" />
						<p:calendar id="dtNascimento" pattern="dd/MM/yyyy" mask="true"
							size="46" required="true"
							requiredMessage="O campo Data de Nascimento é obrigatório"
							value="#{unidadeFuncBean.pessoa.dataNascimento}" showOn="button">
							<f:converter converterId="converterData" />
						</p:calendar>

						<p:outputLabel value="Sexo: *" />
						<p:selectOneMenu id="sexo" style="width:380px" required="true"
							value="#{unidadeFuncBean.pessoa.sexo}"
							requiredMessage="O campo Sexo é obrigatório">
							<f:selectItem itemValue="Feminino" itemLabel="Feminino" />
							<f:selectItem itemValue="Masculino" itemLabel="Masculino" />
						</p:selectOneMenu>

						<p:outputLabel value="E-mail: *" />
						<p:inputText maxlength="50" size="50" id="email"
							value="#{unidadeFuncBean.pessoa.email}" required="true"
							requiredMessage="O campo E-mail é obrigatório"
							style="text-transform:lowercase;" />

						<p:outputLabel value="Telefone Res.:" />
						<p:inputMask id="telres" mask="(99) 99999-9999" size="50"
							value="#{unidadeFuncBean.pessoa.telRes}">
						</p:inputMask>

						<p:outputLabel value="Celular:" />
						<p:inputMask id="cel" mask="(99) 99999-9999" size="50"
							value="#{unidadeFuncBean.pessoa.cel}">
						</p:inputMask>



						<p:row styleClass="my-heading-row">
							<i class="pi pi-globe"></i>
							<b style="color: #518e2e; margin: 0 auto;">ENDEREÇO</b>
						</p:row>


						<p:outputLabel value="CEP:" />
						<p:inputMask id="cepEnd" mask="99.999-999" maxlength="11"
							size="50" value="#{unidadeFuncBean.pessoa.cep}" required="true"
							requiredMessage="O campo CEP é obrigatório">
							<f:ajax event="blur" execute="@this"
								render="estado cidade endResi"
								listener="#{unidadeFuncBean.pesquisaCep}"></f:ajax>
						</p:inputMask>

						<p:outputLabel value="Endereço Residência: " />
						<p:inputText maxlength="255" size="50" id="endResi"
							value="#{unidadeFuncBean.pessoa.endereco}" required="true"
							requiredMessage="O campo Endereço Residência é obrigatório"
							style="text-transform:uppercase;" />

						<p:outputLabel value="Complemento:" />
						<p:inputText maxlength="50" size="50" id="complemento"
							value="#{unidadeFuncBean.pessoa.complemento}"
							style="text-transform:uppercase;" />

						<p:outputLabel for="estado" value="UF: " />
						<p:selectOneMenu id="estado" filter="true" style="width:380px"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.pessoa.estadoEndereco}">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione um estado" />
							<f:selectItems value="#{unidadeFuncBean.estados}" var="estado"
								itemValue="#{estado}" itemLabel="#{estado.sigla}" />
							<p:ajax listener="#{unidadeFuncBean.popular}"
								update=":newTerceirizado:cidade" />
						</p:selectOneMenu>

						<p:outputLabel for="cidade" value="Municipio" />
						<p:selectOneMenu id="cidade" filter="true" required="true"
							style="width:380px"
							requiredMessage="O campo Municipio é obrigatório"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.pessoa.municipioEndereco}">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione uma cidade" />
							<f:selectItems value="#{unidadeFuncBean.cidades}" var="cidade"
								itemValue="#{cidade}" itemLabel="#{cidade.nome}" />
						</p:selectOneMenu>



						<p:row styleClass="my-heading-row">
							<i class="pi pi-briefcase"></i>
							<b style="color: #518e2e; margin: 0 auto;">LOCAÇÃO DE
								TRABALHO</b>
						</p:row>



						<p:outputLabel for="unidade" value="Unidade: " />
						<p:selectOneMenu id="unidade" filter="true" style="width:380px"
							disabled="true" required="true"
							requiredMessage="O campo Unidade é obrigatório"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.funcionarioTerceirizado.unidade}">
							<f:selectItem itemValue="#{unidadeFuncBean.unidadeFunc}"
								itemLabel="#{unidadeFuncBean.unidadeFunc.unidade.unidadeNome}" />

							<p:ajax listener="#{unidadeFuncBean.popularUnidades}"
								update=":newTerceirizado:setor" />
						</p:selectOneMenu>

						<p:outputLabel for="setor" value="Setor: " />
						<p:selectOneMenu id="setor" filter="true" style="width:380px"
							required="true" requiredMessage="O campo Setor é obrigatório"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.funcionarioTerceirizado.setor}">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione um setor" />
							<f:selectItems value="#{unidadeFuncBean.setores}" var="setor"
								itemValue="#{setor}" itemLabel="#{setor.setorNome}" />
						</p:selectOneMenu>



						<p:outputLabel value="Cargo: " />
						<p:selectOneMenu id="cargo" filter="true" style="width:380px"
							required="true" requiredMessage="O campo Cargo é obrigatório"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.funcionarioTerceirizado.cargoTerceirizado}">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione um cargo" />
							<f:selectItems value="#{unidadeFuncBean.cargos}" var="cargo"
								itemValue="#{cargo}" itemLabel="#{cargo.descricao}" />
						</p:selectOneMenu>




					</p:panelGrid>







					<h:panelGrid columns="2" style="margin: 0 auto;">

						<p:commandButton value="Salvar"
							styleClass="rounded-button ui-button-success" icon="pi pi-save"
							actionListener="#{unidadeFuncBean.salvarTerceirizado()}"
							oncomplete="PF('newTerceirizado').hide();"
							onsuccess="PF('newTerceirizado').hide();"
							update=":mensagem tabView:formularioEmpresas:listaUnidades unidadeView:tabViewProcesso:listaTerceirizados newTerceirizado:newTerceirizado:" />





					</h:panelGrid>


				</p:panel>


			</h:form>



		</p:dialog>


		<p:dialog widgetVar="newServidor" draggable="false" resizable="true"
			modal="true" closable="true" responsive="true" height="700px"
			width="100%" dynamic="true">


			<f:facet name="header">

				<h:outputText id="someDialogServidor" value="Cadastro Servidor" />

			</f:facet>

			<h:form id="newServidor">






				<p:panel header="Cadastro Servidor">

					<p:panelGrid id="newServidor" columns="4"
						columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
						layout="grid" styleClass="ui-panelgrid-blank ui-fluid"
						style="border:0px none; background-color:transparent;">


						<p:row styleClass="my-heading-row">
							<i class="pi pi-user"></i>
							<b style="color: #518e2e; margin: 0 auto;">DADOS PESSOAIS</b>

						</p:row>


						<p:outputLabel value="CPF: *" />
						<p:inputText id="cpf" maxlength="11" placeholder="Digite o CPF"
							value="#{unidadeFuncBean.pessoa.cpf}" required="true"
							requiredMessage="O campo CPF é obrigatório">
							<p:ajax event="blur"
								listener="#{unidadeFuncBean.buscarCPFServidor}"
								update="newServidor:rg,newServidor:orgao,newServidor:ufrg,newServidor:nomeCompleto,newServidor:nomeMae,
								newServidor:nomePai,newServidor:dtNascimento,newServidor:sexo,newServidor:email,
								newServidor:telres,newServidor:cel,
								newServidor:cepEnd,newServidor:endResi,newServidor:complemento,newServidor:estado,
								newServidor:cidade" />
							<f:validator validatorId="CpfValidator" />
						</p:inputText>


						<p:outputLabel value="RG: *" />
						<p:inputText maxlength="11" id="rg"
							value="#{unidadeFuncBean.pessoa.rg}" required="true"
							requiredMessage="O campo RG é obrigatório" />

						<p:outputLabel value="Órgão Emissor: *" />
						<p:inputText maxlength="10" id="orgao"
							value="#{unidadeFuncBean.pessoa.rgOrgaoEmissor}" required="true"
							requiredMessage="O campo Órgão Emissor é obrigatório"
							style="text-transform:uppercase;" />



						<p:outputLabel value="UF RG: *" />
						<p:selectOneMenu filter="true"
							value="#{unidadeFuncBean.pessoa.rgEstadoEmissao}" id="ufrg"
							converter="omnifaces.SelectItemsConverter" required="true"
							requiredMessage="O campo UF é obrigatório">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione uma UF" />
							<f:selectItems value="#{unidadeFuncBean.estados}" var="estado"
								itemValue="#{estado}" itemLabel="#{estado.sigla}" />
						</p:selectOneMenu>

						<p:outputLabel value="Nome Completo: *" />
						<p:inputText maxlength="50" id="nomeCompleto"
							value="#{unidadeFuncBean.pessoa.nomeCompleto}" required="true"
							requiredMessage="O campo Nome Completo é obrigatório"
							style="text-transform:uppercase;" />

						<p:outputLabel value="Nome da Mãe: *" />
						<p:inputText maxlength="50" id="nomeMae"
							value="#{unidadeFuncBean.pessoa.nomeMae}" required="true"
							requiredMessage="O campo Nome da Mãe é obrigatório"
							style="text-transform:uppercase;" />

						<p:outputLabel value="Nome do Pai: *" />
						<p:inputText maxlength="50" id="nomePai"
							value="#{unidadeFuncBean.pessoa.nomePai}" required="true"
							requiredMessage="O campo Nome do Pai é obrigatório"
							style="text-transform:uppercase;" />


						<p:outputLabel value="Data Nascimento: *" />
						<p:calendar id="dtNascimento" pattern="dd/MM/yyyy" mask="true"
							required="true"
							requiredMessage="O campo Data de Nascimento é obrigatório"
							value="#{unidadeFuncBean.pessoa.dataNascimento}" showOn="button">
							<f:converter converterId="converterData" />
						</p:calendar>

						<p:outputLabel value="Sexo: *" />
						<p:selectOneMenu id="sexo" required="true"
							value="#{unidadeFuncBean.pessoa.sexo}"
							requiredMessage="O campo Sexo é obrigatório">
							<f:selectItem itemValue="Feminino" itemLabel="Feminino" />
							<f:selectItem itemValue="Masculino" itemLabel="Masculino" />
						</p:selectOneMenu>

						<p:outputLabel value="E-mail: *" />
						<p:inputText maxlength="50" id="email"
							value="#{unidadeFuncBean.pessoa.email}" required="true"
							requiredMessage="O campo E-mail é obrigatório"
							style="text-transform:lowercase;" />

						<p:outputLabel value="Telefone Res.:" />
						<p:inputMask id="telres" mask="(99) 99999-9999"
							value="#{unidadeFuncBean.pessoa.telRes}">
						</p:inputMask>

						<p:outputLabel value="Celular:" />
						<p:inputMask id="cel" mask="(99) 99999-9999"
							value="#{unidadeFuncBean.pessoa.cel}">
						</p:inputMask>

						<p:row id="enderecoicon" styleClass="my-heading-row"
							style="font-weight: bold">
							<i class="pi pi-globe"></i>
							<b style="color: #518e2e; margin: 0 auto;">ENDEREÇO</b>
						</p:row>



						<p:outputLabel value="CEP:" />
						<p:inputMask id="cepEnd" mask="99.999-999" maxlength="11"
							value="#{unidadeFuncBean.pessoa.cep}" required="true"
							requiredMessage="O campo CEP é obrigatório">
							<f:ajax event="blur" execute="@this"
								render="estado cidade endResi"
								listener="#{unidadeFuncBean.pesquisaCep}"></f:ajax>
						</p:inputMask>

						<p:outputLabel value="Endereço Residência: " />
						<p:inputText maxlength="255" id="endResi"
							value="#{unidadeFuncBean.pessoa.endereco}" required="true"
							requiredMessage="O campo Endereço Residência é obrigatório"
							style="text-transform:uppercase;" />

						<p:outputLabel value="Complemento:" />
						<p:inputText maxlength="50" id="complemento"
							value="#{unidadeFuncBean.pessoa.complemento}"
							style="text-transform:uppercase;" />

						<p:outputLabel for="estado" value="UF: " />
						<p:selectOneMenu id="estado" filter="true"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.pessoa.estadoEndereco}">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione um estado" />
							<f:selectItems value="#{unidadeFuncBean.estados}" var="estado"
								itemValue="#{estado}" itemLabel="#{estado.sigla}" />
							<p:ajax listener="#{unidadeFuncBean.popular}"
								update=":newServidor:cidade" />
						</p:selectOneMenu>

						<p:outputLabel for="cidade" value="Municipio" />
						<p:selectOneMenu id="cidade" filter="true" required="true"
							requiredMessage="O campo Municipio é obrigatório"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.pessoa.municipioEndereco}">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione uma cidade" />
							<f:selectItems value="#{unidadeFuncBean.cidades}" var="cidade"
								itemValue="#{cidade}" itemLabel="#{cidade.nome}" />
						</p:selectOneMenu>

						<p:row id="locacaoicon" styleClass="my-heading-row"
							style="font-weight: bold">
							<i class="pi pi-briefcase"></i>
							<b style="color: #518e2e; margin: 0 auto;">MATRÍCULA</b>
						</p:row>






						<p:outputLabel value="Matrícula: " />
						<p:inputText maxlength="50" id="matricula"
							value="#{unidadeFuncBean.servidores.matricula}" required="true"
							requiredMessage="O campo Matricula é obrigatório"
							style="text-transform:lowercase;" />

						<p:outputLabel value="Cargo: " />
						<p:selectOneMenu id="cargo" filter="true" required="true"
							requiredMessage="O campo Cargo é obrigatório"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.servidores.cargo}">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione um cargo" />
							<f:selectItems value="#{unidadeFuncBean.listaCargosServidores}"
								var="cargo" itemValue="#{cargo}" itemLabel="#{cargo.descricao}" />
						</p:selectOneMenu>

						<p:outputLabel for="unidade" value="Unidade: " />
						<p:selectOneMenu id="unidade" filter="true" disabled="true"
							required="true" requiredMessage="O campo Unidade é obrigatório"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.servidores.unidadeFunc}">
							<f:selectItem itemValue="#{unidadeFuncBean.unidadeFunc}"
								itemLabel="#{unidadeFuncBean.unidadeFunc.unidade.unidadeNome}" />

							<p:ajax listener="#{unidadeFuncBean.popularUnidades}"
								update=":newServidor:setor" />
						</p:selectOneMenu>

						<p:outputLabel for="setor" value="Setor: " />
						<p:selectOneMenu id="setor" filter="true" required="true"
							requiredMessage="O campo Setor é obrigatório"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.servidores.setor}">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione um setor" />
							<f:selectItems value="#{unidadeFuncBean.setores}" var="setor"
								itemValue="#{setor}" itemLabel="#{setor.setorNome}" />
						</p:selectOneMenu>





					</p:panelGrid>







					<h:panelGrid columns="2" style="margin: 0 auto;">
						<p:commandButton value="Salvar" icon="pi pi-save"
							styleClass="rounded-button ui-button-success"
							oncomplete="PF('dialogoView').hide();"
							onsuccess="PF('newServidor').hide();"
							actionListener="#{unidadeFuncBean.salvarServidor()}"
							update=":mensagem tabView:formularioEmpresas:painelDados unidadeView:tabViewProcesso:listaServidores" />



					</h:panelGrid>


				</p:panel>


			</h:form>



		</p:dialog>

		<p:dialog widgetVar="newEstagiario" draggable="false" resizable="true"
			modal="true" closable="true" responsive="true" height="700px"
			width="100%" dynamic="true">


			<f:facet name="header">

				<h:outputText id="someDialogEstagiario" value="Cadastro Estagiário" />

			</f:facet>

			<h:form id="newEstagiario">






				<p:panel header="Cadastro Estagiário">

					<p:panelGrid id="newEstagiario" columns="4"
						columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
						layout="grid" styleClass="ui-panelgrid-blank ui-fluid"
						style="border:0px none; background-color:transparent;">


						<p:row styleClass="my-heading-row">
							<i class="pi pi-user"></i>
							<b style="color: #518e2e; margin: 0 auto;">DADOS PESSOAIS</b>

						</p:row>


						<p:outputLabel value="CPF: *" />
						<p:inputText id="cpf" maxlength="11" placeholder="Digite o CPF"
							value="#{unidadeFuncBean.pessoa.cpf}" required="true"
							requiredMessage="O campo CPF é obrigatório">
							<p:ajax event="blur"
								listener="#{unidadeFuncBean.buscarCPFServidor}"
								update="newEstagiario:rg,newEstagiario:orgao,newEstagiario:ufrg,
								newEstagiario:nomeCompleto,newEstagiario:nomeMae,newEstagiario:nomePai,
								newEstagiario:dtNascimento,newEstagiario:sexo,newEstagiario:email,
								newEstagiario:telres,newEstagiario:cel,
								newEstagiario:cepEnd,newEstagiario:endResi,newEstagiario:complemento,
								newEstagiario:estado,newEstagiario:cidade" />
							<f:validator validatorId="CpfValidator" />
						</p:inputText>


						<p:outputLabel value="RG: *" />
						<p:inputText maxlength="11" id="rg"
							value="#{unidadeFuncBean.pessoa.rg}" required="true"
							requiredMessage="O campo RG é obrigatório" />

						<p:outputLabel value="Órgão Emissor: *" />
						<p:inputText maxlength="10" id="orgao"
							value="#{unidadeFuncBean.pessoa.rgOrgaoEmissor}" required="true"
							requiredMessage="O campo Órgão Emissor é obrigatório"
							style="text-transform:uppercase;" />



						<p:outputLabel value="UF RG: *" />
						<p:selectOneMenu filter="true"
							value="#{unidadeFuncBean.pessoa.rgEstadoEmissao}" id="ufrg"
							converter="omnifaces.SelectItemsConverter" required="true"
							requiredMessage="O campo UF é obrigatório">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione uma UF" />
							<f:selectItems value="#{unidadeFuncBean.estados}" var="estado"
								itemValue="#{estado}" itemLabel="#{estado.sigla}" />
						</p:selectOneMenu>

						<p:outputLabel value="Nome Completo: *" />
						<p:inputText maxlength="50" id="nomeCompleto"
							value="#{unidadeFuncBean.pessoa.nomeCompleto}" required="true"
							requiredMessage="O campo Nome Completo é obrigatório"
							style="text-transform:uppercase;" />

						<p:outputLabel value="Nome da Mãe: *" />
						<p:inputText maxlength="50" id="nomeMae"
							value="#{unidadeFuncBean.pessoa.nomeMae}" required="true"
							requiredMessage="O campo Nome da Mãe é obrigatório"
							style="text-transform:uppercase;" />

						<p:outputLabel value="Nome do Pai: *" />
						<p:inputText maxlength="50" id="nomePai"
							value="#{unidadeFuncBean.pessoa.nomePai}" required="true"
							requiredMessage="O campo Nome do Pai é obrigatório"
							style="text-transform:uppercase;" />


						<p:outputLabel value="Data Nascimento: *" />
						<p:calendar id="dtNascimento" pattern="dd/MM/yyyy" mask="true"
							required="true"
							requiredMessage="O campo Data de Nascimento é obrigatório"
							value="#{unidadeFuncBean.pessoa.dataNascimento}" showOn="button">
							<f:converter converterId="converterData" />
						</p:calendar>

						<p:outputLabel value="Sexo: *" />
						<p:selectOneMenu id="sexo" required="true"
							value="#{unidadeFuncBean.pessoa.sexo}"
							requiredMessage="O campo Sexo é obrigatório">
							<f:selectItem itemValue="Feminino" itemLabel="Feminino" />
							<f:selectItem itemValue="Masculino" itemLabel="Masculino" />
						</p:selectOneMenu>

						<p:outputLabel value="E-mail: *" />
						<p:inputText maxlength="50" id="email"
							value="#{unidadeFuncBean.pessoa.email}" required="true"
							requiredMessage="O campo E-mail é obrigatório"
							style="text-transform:lowercase;" />

						<p:outputLabel value="Telefone Res.:" />
						<p:inputMask id="telres" mask="(99) 99999-9999"
							value="#{unidadeFuncBean.pessoa.telRes}">
						</p:inputMask>

						<p:outputLabel value="Celular:" />
						<p:inputMask id="cel" mask="(99) 99999-9999"
							value="#{unidadeFuncBean.pessoa.cel}">
						</p:inputMask>

						<p:row id="enderecoicon" styleClass="my-heading-row"
							style="font-weight: bold">
							<i class="pi pi-globe"></i>
							<b style="color: #518e2e; margin: 0 auto;">ENDEREÇO</b>
						</p:row>



						<p:outputLabel value="CEP:" />
						<p:inputMask id="cepEnd" mask="99.999-999" maxlength="11"
							value="#{unidadeFuncBean.pessoa.cep}" required="true"
							requiredMessage="O campo CEP é obrigatório">
							<f:ajax event="blur" execute="@this"
								render="estado cidade endResi"
								listener="#{unidadeFuncBean.pesquisaCep}"></f:ajax>
						</p:inputMask>

						<p:outputLabel value="Endereço Residência: " />
						<p:inputText maxlength="255" id="endResi"
							value="#{unidadeFuncBean.pessoa.endereco}" required="true"
							requiredMessage="O campo Endereço Residência é obrigatório"
							style="text-transform:uppercase;" />

						<p:outputLabel value="Complemento:" />
						<p:inputText maxlength="50" id="complemento"
							value="#{unidadeFuncBean.pessoa.complemento}"
							style="text-transform:uppercase;" />

						<p:outputLabel for="estado" value="UF: " />
						<p:selectOneMenu id="estado" filter="true"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.pessoa.estadoEndereco}">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione um estado" />
							<f:selectItems value="#{unidadeFuncBean.estados}" var="estado"
								itemValue="#{estado}" itemLabel="#{estado.sigla}" />
							<p:ajax listener="#{unidadeFuncBean.popular}"
								update=":newEstagiario:cidade" />
						</p:selectOneMenu>

						<p:outputLabel for="cidade" value="Municipio" />
						<p:selectOneMenu id="cidade" filter="true" required="true"
							requiredMessage="O campo Municipio é obrigatório"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.pessoa.municipioEndereco}">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione uma cidade" />
							<f:selectItems value="#{unidadeFuncBean.cidades}" var="cidade"
								itemValue="#{cidade}" itemLabel="#{cidade.nome}" />
						</p:selectOneMenu>



						<p:row styleClass="my-heading-row">
							<i class="pi pi-briefcase"></i>
							<b style="color: #518e2e; margin: 0 auto;">LOCAÇÃO DE
								TRABALHO</b>
						</p:row>




						<p:outputLabel for="unidade" value="Unidade: " />
						<p:selectOneMenu id="unidade" filter="true" style="width:380px"
							disabled="true" required="true"
							requiredMessage="O campo Unidade é obrigatório"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.estagiario.unidade}">
							<f:selectItem itemValue="#{unidadeFuncBean.unidadeFunc}"
								itemLabel="#{unidadeFuncBean.unidadeFunc.unidade.unidadeNome}" />

							<p:ajax listener="#{unidadeFuncBean.popularUnidades}"
								update=":newEstagiario:setor" />
						</p:selectOneMenu>

						<p:outputLabel for="setor" value="Setor: " />
						<p:selectOneMenu id="setor" filter="true" style="width:380px"
							required="true" requiredMessage="O campo Setor é obrigatório"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.estagiario.setor}">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione um setor" />
							<f:selectItems value="#{unidadeFuncBean.setores}" var="setor"
								itemValue="#{setor}" itemLabel="#{setor.setorNome}" />
						</p:selectOneMenu>


					</p:panelGrid>







					<h:panelGrid columns="2" style="margin: 0 auto;">
						<p:commandButton value="Salvar" icon="pi pi-save"
							styleClass="rounded-button ui-button-success"
							oncomplete="PF('dialogoView').hide();"
							onsuccess="PF('newEstagiario').hide();"
							actionListener="#{unidadeFuncBean.salvarEstagiario()}"
							update=":mensagem tabView:formularioEmpresas:listaUnidades unidadeView:tabViewProcesso:listaEstagiarios" />



					</h:panelGrid>


				</p:panel>


			</h:form>



		</p:dialog>

		<p:dialog widgetVar="dialogoJustView" draggable="false"
			resizable="true" modal="true" closable="true" responsive="true"
			height="700px" width="100%" dynamic="true">
			<f:facet name="header">

				<h:outputText id="someDialogHeaderJustView" value="Ver Unidade" />

			</f:facet>

			<h:form id="unidadeJustView">


				<p:panel header="Unidade">

					<p:panelGrid id="unidadeJustView" columns="4" layout="flex"
						columnClasses="col-12 md:col-3 xl:col-2, col-12 md:col-9 xl:col-4, col-12 md:col-3 xl:col-2, col-12 md:col-9 xl:col-4"
						contentStyleClass="ui-fluid">






						<p:outputLabel value="Unidade: " />
						<p:inputText maxlength="255" disabled="true"
							value="#{unidadeFuncBean.unidadeFunc.unidade.unidadeNome}"
							style="text-transform:uppercase;" />

						<p:outputLabel value="CEP:" />
						<p:inputMask id="cepEnd" mask="99.999-999" maxlength="11"
							disabled="true" value="#{unidadeFuncBean.unidadeFunc.cep}"
							required="true" requiredMessage="O campo CEP é obrigatório">
							<f:ajax event="blur" execute="@this"
								render="estado cidade endResi"
								listener="#{unidadeFuncBean.pesquisaCep}"></f:ajax>
						</p:inputMask>

						<p:outputLabel value="Endereço: " />
						<p:inputText maxlength="255" id="endResi" disabled="true"
							value="#{unidadeFuncBean.unidadeFunc.endereco}" required="true"
							requiredMessage="O campo Endereço Residência é obrigatório"
							style="text-transform:uppercase;" />



						<p:outputLabel for="estado" value="UF: " />
						<p:selectOneMenu id="estado" filter="true" disabled="true"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.unidadeFunc.estadoEndereco}">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione um estado" />
							<f:selectItems value="#{unidadeFuncBean.estados}" var="estado"
								itemValue="#{estado}" itemLabel="#{estado.nome}" />
							<p:ajax listener="#{unidadeFuncBean.popular}"
								update="unidadeJustView:cidade" />
						</p:selectOneMenu>

						<p:outputLabel for="cidade" value="Municipio" />
						<p:selectOneMenu id="cidade" filter="true" required="true"
							disabled="true" requiredMessage="O campo Municipio é obrigatório"
							converter="omnifaces.SelectItemsConverter"
							value="#{unidadeFuncBean.unidadeFunc.municipioEndereco}">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione uma cidade" />
							<f:selectItems value="#{unidadeFuncBean.cidades}" var="cidade"
								itemValue="#{cidade}" itemLabel="#{cidade.nome}" />
						</p:selectOneMenu>



						<p:outputLabel value="Horário de Atendimento: " />
						<p:inputMask disabled="true"
							value="#{unidadeFuncBean.unidadeFunc.horarioAtendimento}"
							mask="99:99h às 99:99h" validateMask="true" required="true"
							requiredMessage="O campo Horário Atendimento é obrigatório" />

						<p:outputLabel value="Nº Circuito: " />
						<p:inputMask disabled="true"
							value="#{unidadeFuncBean.unidadeFunc.nCircuito}" />

						<p:outputLabel value="Endereço Ip: " />
						<p:inputMask disabled="true"
							value="#{unidadeFuncBean.unidadeFunc.enderecoIp}" />



						<p:outputLabel value="E-mails: " />
						<p:inputTextarea maxlength="255" disabled="true"
							value="#{unidadeFuncBean.unidadeFunc.email}" />



						<p:outputLabel value="Telefones: " />
						<p:inputTextarea maxlength="255" disabled="true"
							value="#{unidadeFuncBean.unidadeFunc.telefone}" />


						<p:outputLabel value="Atende?" />
						<p:selectBooleanCheckbox
							value="#{unidadeFuncBean.unidadeFunc.atendeCNH}" itemLabel="CNH"
							disabled="true" />
						<p:selectBooleanCheckbox
							value="#{unidadeFuncBean.unidadeFunc.atendeVeiculos}"
							itemLabel="Veículo" disabled="true" />
						<p:selectBooleanCheckbox
							value="#{unidadeFuncBean.unidadeFunc.atendeMulta}"
							itemLabel="Multa" disabled="true" />
						<p:selectBooleanCheckbox
							value="#{unidadeFuncBean.unidadeFunc.atendePenalidade}"
							itemLabel="Penalidade" disabled="true" />
						<p:selectBooleanCheckbox
							value="#{unidadeFuncBean.unidadeFunc.atendeFoto}"
							itemLabel="Foto" disabled="true" />





					</p:panelGrid>


					<div class="card">

						<div class="grid">

							<div class="colStats">
								<div class="box">

									<div class="item">
										<i class="pi pi-users" style="font-size: 5rem"></i>
										<p id="number3" class="number">
											<span
												style="color: #8fb13a; font-size: 36px; font-weight: 800;"><h:outputLabel
													value="#{unidadeFuncBean.listaServidores.size()}" /></span>
										</p>
										<p class="fontStats">SERVIDORES</p>
									</div>

								</div>
							</div>
							<div class="colStats">
								<div class="box">

									<div class="item">
										<i class="pi pi-users" style="font-size: 5rem"></i>
										<p id="number3" class="number">
											<span
												style="color: #8fb13a; font-size: 36px; font-weight: 800;"><h:outputLabel
													value="#{unidadeFuncBean.listaTerceirizados.size()}" /></span>
										</p>
										<p class="fontStats">TERCEIRIZADOS</p>
									</div>

								</div>
							</div>
							<div class="colStats">
								<div class="box">

									<div class="item">
										<i class="pi pi-users" style="font-size: 5rem"></i>
										<p id="number3" class="number">
											<span
												style="color: #8fb13a; font-size: 36px; font-weight: 800;"><h:outputLabel
													value="#{unidadeFuncBean.listaEstagiarios.size()}" /></span>
										</p>
										<p class="fontStats">ESTAGIÁRIOS</p>
									</div>

								</div>
							</div>





						</div>
					</div>




				</p:panel>



			</h:form>

		</p:dialog>










	</ui:define>
</ui:composition>






